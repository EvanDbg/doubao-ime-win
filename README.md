# Doubao Voice Input (è±†åŒ…è¯­éŸ³è¾“å…¥)

Windows è¯­éŸ³è¾“å…¥å·¥å…·ï¼ŒåŸºäºè±†åŒ… ASR å®ç°å®æ—¶è¯­éŸ³è¯†åˆ«ã€‚

## åŠŸèƒ½ç‰¹æ€§

- ğŸ¤ **å®æ—¶è¯­éŸ³è¯†åˆ«** - åŸºäºè±†åŒ… ASR çš„é«˜ç²¾åº¦è¯­éŸ³è¯†åˆ«
- âŒ¨ï¸ **åŒå‡»Ctrlè§¦å‘** - å¿«é€ŸåŒå‡» Ctrl é”®å¼€å§‹/åœæ­¢è¯­éŸ³è¾“å…¥
- ğŸ“ **æ‚¬æµ®æŒ‰é’®** - ç°ä»£é£æ ¼å¯æ‹–åŠ¨æ‚¬æµ®æŒ‰é’®ï¼Œå·¦é”®åˆ‡æ¢å½•éŸ³ï¼Œå³é”®é€€å‡º
- ğŸ”„ **æµå¼è¯†åˆ«** - å®æ—¶æ˜¾ç¤ºè¯†åˆ«ç»“æœï¼Œæ”¯æŒæ–‡æœ¬ä¿®æ­£
- ğŸ–¥ï¸ **ç³»ç»Ÿæ‰˜ç›˜** - æ‰˜ç›˜å›¾æ ‡èœå•æ§åˆ¶ï¼Œå³é”®è®¿é—®è®¾ç½®å’Œé€€å‡º
- ğŸ“¦ **ç»¿è‰²ä¾¿æº** - å•æ–‡ä»¶å¯æ‰§è¡Œï¼Œæ— éœ€å®‰è£…

## å¿«é€Ÿå¼€å§‹

### ä¸‹è½½ä½¿ç”¨

1. ä» [Releases](https://github.com/EvanDbg/doubao-ime-win/releases) ä¸‹è½½æœ€æ–°ç‰ˆæœ¬
2. è§£å‹åˆ°ä»»æ„ç›®å½•
3. è¿è¡Œ `doubao-voice-input.exe`
4. é¦–æ¬¡è¿è¡Œä¼šè‡ªåŠ¨æ³¨å†Œè®¾å¤‡

### ä½¿ç”¨æ–¹æ³•

1. **å¿«æ·é”®** (åŒå‡» Ctrl):
   - å¿«é€ŸåŒå‡» `Ctrl` é”®å¼€å§‹è¯­éŸ³è¾“å…¥
   - å†æ¬¡åŒå‡»åœæ­¢å½•éŸ³ï¼Œæ–‡æœ¬è‡ªåŠ¨æ’å…¥åˆ°å½“å‰ç„¦ç‚¹çª—å£

2. **æ‚¬æµ®æŒ‰é’®**:
   - ğŸŸ£ ç´«è‰² = å¾…æœºçŠ¶æ€
   - ğŸ”´ çº¢è‰² = æ­£åœ¨å½•éŸ³
   - ğŸŸ  æ©™è‰² = å¤„ç†ä¸­
   - **å·¦é”®ç‚¹å‡»** = å¼€å§‹/åœæ­¢å½•éŸ³
   - **å³é”®ç‚¹å‡»** = é€€å‡ºç¨‹åºï¼ˆæœ‰ç¡®è®¤æç¤ºï¼‰
   - **æ‹–åŠ¨** = è°ƒæ•´ä½ç½®

3. **ç³»ç»Ÿæ‰˜ç›˜**:
   - å³é”®æ‰˜ç›˜å›¾æ ‡æ‰“å¼€èœå•
   - èœå•é¡¹ï¼šå¼€å§‹/åœæ­¢è¯­éŸ³è¾“å…¥ã€è®¾ç½®ã€é€€å‡º

## é…ç½®æ–‡ä»¶

é…ç½®æ–‡ä»¶ `config.toml` ä¸ç¨‹åºåŒç›®å½•ï¼š

```toml
[general]
auto_start = false
language = "zh-CN"

[hotkey]
mode = "double_tap"
combo_key = "Ctrl+Shift+V"
double_tap_key = "Ctrl"
double_tap_interval = 300  # æ¯«ç§’

[floating_button]
enabled = true
position_x = 100
position_y = 100

[asr]
vad_enabled = true
```

## ä»æºç æ„å»º

### ç¯å¢ƒè¦æ±‚

- Rust 1.70+ (stable)
- Windows 10/11 x64
- Visual Studio Build Tools 2022
- CMake
- Protobuf Compiler (protoc)

### æ„å»ºæ­¥éª¤

```powershell
# å…‹éš†é¡¹ç›®
git clone https://github.com/EvanDbg/doubao-ime-win.git
cd doubao-ime-win

# æ„å»º Release ç‰ˆæœ¬
cargo build --release

# å¯æ‰§è¡Œæ–‡ä»¶ä½ç½®
# target/release/doubao-voice-input.exe
```

### GitHub Actions

é¡¹ç›®å·²é…ç½® GitHub Actions è‡ªåŠ¨æ„å»ºï¼š
- æ¨é€åˆ° `main` åˆ†æ”¯æ—¶è‡ªåŠ¨æ„å»º
- åˆ›å»º `v*` æ ‡ç­¾æ—¶è‡ªåŠ¨å‘å¸ƒ Release

## æŠ€æœ¯æ¶æ„

| æ¨¡å— | æŠ€æœ¯ |
|------|------|
| è¯­è¨€ | Rust |
| è¯­éŸ³è¯†åˆ« | è±†åŒ… ASR (doubaoime-asr åè®®) |
| éŸ³é¢‘é‡‡é›† | cpal |
| éŸ³é¢‘ç¼–ç  | Opus |
| çƒ­é”®ç›‘å¬ | rdev (åŒå‡»æ£€æµ‹) |
| ç³»ç»Ÿæ‰˜ç›˜ | tray-icon |
| æ‚¬æµ®æŒ‰é’® | Win32 API (Layered Window) |
| æ–‡æœ¬è¾“å…¥ | Windows SendInput API |

## å…è´£å£°æ˜

> âš ï¸ **æ³¨æ„**
> 
> æœ¬é¡¹ç›®åŸºäºè±†åŒ…è¾“å…¥æ³•å®¢æˆ·ç«¯åè®®åˆ†æå®ç°ï¼Œéå®˜æ–¹ APIã€‚
> - ä»…ä¾›å­¦ä¹ ç ”ç©¶ä½¿ç”¨
> - åè®®å¯èƒ½éšæ—¶å˜æ›´å¯¼è‡´åŠŸèƒ½å¤±æ•ˆ
> - è¯·éµå®ˆç›¸å…³æ³•å¾‹æ³•è§„

## è®¸å¯è¯

MIT License

## è‡´è°¢

- [doubaoime-asr](https://github.com/starccy/doubaoime-asr) - è±†åŒ… ASR åè®®å‚è€ƒå®ç°
